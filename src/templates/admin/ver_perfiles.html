{% extends "admin/admin_base.html" %}
{% block title %} Perfiles{% endblock %}
{% block header %}Perfiles de los usuarios{% endblock %}
{% block content %}
<form action="{{ url_for('ver_perfiles') }}" method="get">
    <label for="tipo">Filtrar por tipo:</label>
    <select name="tipo" id="tipo">
        <option value="all" {% if filtro_tipo == 'all' %}selected{% endif %}>Todos</option>
        <option value="docentes" {% if filtro_tipo == 'docentes' %}selected{% endif %}>Docentes</option>
        <option value="estudiantes" {% if filtro_tipo == 'estudiantes' %}selected{% endif %}>Estudiantes</option>
    </select>
    <button type="submit">Filtrar</button>
</form>
{% if docentes %}
<h2>Docentes</h2>
<table>
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Documento</th>
            <th>Correo</th>
            <th>Teléfono</th>
            <th>Materias</th>
        </tr>
    </thead>
    <tbody>
        {% for docente in docentes %}
        <tr>
            <td>{{ docente.nombre }}</td>
            <td>{{ docente.documento }}</td>
            <td>{{ docente.correo }}</td>
            <td>{{ docente.telefono }}</td>
            <td>{{ ', '.join(docente.materias) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}
{% if estudiantes %}
<h2>Estudiantes</h2>
<table>
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Documento</th>
            <th>Correo</th>
            <th>Teléfono</th>
            <th>Grado</th>
        </tr>
    </thead>
    <tbody>
        {% for estudiante in estudiantes %}
        <tr>
            <td>{{ estudiante.nombre }}</td>
            <td>{{ estudiante.documento }}</td>
            <td>{{ estudiante.correo }}</td>
            <td>{{ estudiante.telefono }}</td>
            <td>{{ estudiante.grado }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}
{% endblock %}
